import{s as z}from"./index-CT_lo015.js";import{s as F}from"./index-DXPuTS8v.js";import{s as L}from"./index-Doy4OwGV.js";import{s as T}from"./index-D4aGl0mq.js";import{u as q,r,w as E,d as I,c as n,b as e,a as i,F as b,N as M,e as f,o,n as k,t as w,f as U,R as V,i as A}from"./app-BUUgi4zj.js";import{d as Q}from"./moment-CQ1ixRO1.js";import"./index-CTFHRYau.js";import"./index-Bglzde4G.js";import"./index-B91hPQg3.js";const W={key:0,class:"flex flex-col md:flex-row gap-12 min-h-screen items-center justify-center"},G={class:"w-full"},H={class:"flex flex-col gap-4 text-center"},J={key:1},K={class:"grid grid-cols-12 gap-8"},O={class:"flex justify-between mb-4"},X={class:"text-surface-900 dark:text-surface-0 font-medium text-xl"},Y={class:"flex justify-between mb-4"},Z={class:"text-primary font-medium"},de={__name:"IndexPdv",setup(ee){const p=A(),c=q();r(null);const u=r(!0),d=r(!1);let v=r(null);const g=r(""),l=r(null),C=r(1);r(15);const D=r(0),m=r(!1);function S(){p&&p.back()}const _=()=>{m.value=!1};function x(a){switch(a){case 1:return"red";case 2:return"red";case 3:return"warn";case 4:return"danger";case 5:return"info";case 6:return"info"}}function $(a){switch(a){case 1:return"success";case 2:return"danger";case 3:return"warn";case 4:return"danger";case 5:return"info";case 6:return"info"}}const y=async(a=1)=>{axios.get(`/api/pdv?page=${a}`,{params:{query:g.value}}).then(t=>{l.value=t.data,D.value=t.data.total,u.value=!1}).catch(t=>{u.value=!1,c.add({severity:"error",summary:`${t}`,detail:"Message Detail",life:3e3}),S()})},B=()=>{d.value=!0,axios.delete(`/api/tables/${v.value}`).then(()=>{l.value.data=l.value.data.filter(a=>a.id!==v.value),_(),c.add({severity:"success",summary:"Sucesso",detail:"Sucesso ao apagar",life:3e3})}).catch(a=>{c.add({severity:"error",summary:"Erro",detail:`${a}`,life:3e3}),d.value=!1}).finally(()=>{d.value=!1})},j=Q(()=>{y(C.value)},300);return E(g,j),I(()=>{y()}),(a,t)=>{const P=T,N=L,h=F,R=z;return o(),n(b,null,[u.value?(o(),n("div",W,[e("div",G,[e("div",H,[i(P,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:".5s","aria-label":"Custom ProgressSpinner"}),t[1]||(t[1]=e("p",null,"Por Favor Aguarde...",-1))])])])):(o(),n("div",J,[e("div",K,[(o(!0),n(b,null,M(l.value.data,(s,te)=>(o(),n("div",{class:"col-span-12 lg:col-span-6 xl:col-span-3",key:s.id},[i(U(V),{to:"/admin/pdv/"+s.id+"/categories"},{default:f(()=>[e("div",{class:k(["card mb-0",{"bg-green-100":s.table_status_id===1,"bg-red-100":s.table_status_id===2}])},[e("div",O,[e("div",null,[e("div",X,w(s.name),1)]),e("div",{class:k(["flex items-center justify-center rounded-full",`bg-${x(s.status_id)}-100`,`dark:bg-${x(s.status_id)}-400/10`]),style:{width:"2.5rem",height:"2.5rem"}},t[2]||(t[2]=[e("i",{class:"pi pi-list text-blue-500 !text-xl","aria-label":"Carrinho de Compras"},null,-1)]),2)]),e("div",Y,[e("span",Z,"Capacidade: "+w(s.capacity),1),e("span",null,[i(N,{value:s.status.name,severity:$(s.table_status_id)},null,8,["value","severity"])])])],2)]),_:2},1032,["to"])]))),128))])])),i(R,{header:"Confirmação",visible:m.value,"onUpdate:visible":t[0]||(t[0]=s=>m.value=s),style:{width:"350px"},modal:!0},{footer:f(()=>[i(h,{label:"Não",icon:"pi pi-times",onClick:_,class:"p-button-text"}),i(h,{label:"Sim",icon:"pi pi-check",onClick:B,class:"p-button-text",autofocus:""})]),default:f(()=>[t[3]||(t[3]=e("div",{class:"flex align-items-center justify-content-center"},[e("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}}),e("span",null,"Tem certeza que deseja proceder?")],-1))]),_:1},8,["visible"])],64)}}};export{de as default};
