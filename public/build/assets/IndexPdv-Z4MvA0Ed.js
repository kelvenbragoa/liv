import{s as R}from"./index-DSAyAkhN.js";import{s as z}from"./index-TdpNRn00.js";import{s as F}from"./index-Df3u1Lir.js";import{s as L}from"./index-VTH343q4.js";import{u as T,r,w as q,d as E,c as n,b as e,a as i,F as b,N as I,e as f,o,t as k,n as M,f as U,R as V,i as A}from"./app-CKonVDLw.js";import{d as Q}from"./moment-CQ1ixRO1.js";import"./index-fRqD7eZQ.js";import"./index-B-SFtyIt.js";import"./index-BQHiY-eb.js";const W={key:0,class:"flex flex-col md:flex-row gap-12 min-h-screen items-center justify-center"},G={class:"w-full"},H={class:"flex flex-col gap-4 text-center"},J={key:1},K={class:"grid grid-cols-12 gap-8"},O={class:"card mb-0"},X={class:"flex justify-between mb-4"},Y={class:"text-surface-900 dark:text-surface-0 font-medium text-xl"},Z={class:"flex justify-between mb-4"},ee={class:"text-primary font-medium"},me={__name:"IndexPdv",setup(te){const p=A(),c=T();r(null);const u=r(!0),d=r(!1);let v=r(null);const g=r(""),l=r(null),w=r(1);r(15);const C=r(0),m=r(!1);function D(){p&&p.back()}const _=()=>{m.value=!1};function x(s){switch(s){case 1:return"red";case 2:return"red";case 3:return"warn";case 4:return"danger";case 5:return"info";case 6:return"info"}}function S(s){switch(s){case 1:return"success";case 2:return"danger";case 3:return"warn";case 4:return"danger";case 5:return"info";case 6:return"info"}}const y=async(s=1)=>{axios.get(`/api/pdv?page=${s}`,{params:{query:g.value}}).then(t=>{l.value=t.data,C.value=t.data.total,u.value=!1}).catch(t=>{u.value=!1,c.add({severity:"error",summary:`${t}`,detail:"Message Detail",life:3e3}),D()})},$=()=>{d.value=!0,axios.delete(`/api/tables/${v.value}`).then(()=>{l.value.data=l.value.data.filter(s=>s.id!==v.value),_(),c.add({severity:"success",summary:"Sucesso",detail:"Sucesso ao apagar",life:3e3})}).catch(s=>{c.add({severity:"error",summary:"Erro",detail:`${s}`,life:3e3}),d.value=!1}).finally(()=>{d.value=!1})},B=Q(()=>{y(w.value)},300);return q(g,B),E(()=>{y()}),(s,t)=>{const j=L,P=F,h=z,N=R;return o(),n(b,null,[u.value?(o(),n("div",W,[e("div",G,[e("div",H,[i(j,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:".5s","aria-label":"Custom ProgressSpinner"}),t[1]||(t[1]=e("p",null,"Por Favor Aguarde...",-1))])])])):(o(),n("div",J,[e("div",K,[(o(!0),n(b,null,I(l.value.data,(a,se)=>(o(),n("div",{class:"col-span-12 lg:col-span-6 xl:col-span-3",key:a.id},[i(U(V),{to:"/admin/pdv/"+a.id+"/categories"},{default:f(()=>[e("div",O,[e("div",X,[e("div",null,[e("div",Y,k(a.name),1)]),e("div",{class:M(["flex items-center justify-center rounded-full",`bg-${x(a.status_id)}-100`,`dark:bg-${x(a.status_id)}-400/10`]),style:{width:"2.5rem",height:"2.5rem"}},t[2]||(t[2]=[e("i",{class:"pi pi-list text-blue-500 !text-xl","aria-label":"Carrinho de Compras"},null,-1)]),2)]),e("div",Z,[e("span",ee,"Capacidade: "+k(a.capacity),1),e("span",null,[i(P,{value:a.status.name,severity:S(a.status_id)},null,8,["value","severity"])])])])]),_:2},1032,["to"])]))),128))])])),i(N,{header:"Confirmação",visible:m.value,"onUpdate:visible":t[0]||(t[0]=a=>m.value=a),style:{width:"350px"},modal:!0},{footer:f(()=>[i(h,{label:"Não",icon:"pi pi-times",onClick:_,class:"p-button-text"}),i(h,{label:"Sim",icon:"pi pi-check",onClick:$,class:"p-button-text",autofocus:""})]),default:f(()=>[t[3]||(t[3]=e("div",{class:"flex align-items-center justify-content-center"},[e("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}}),e("span",null,"Tem certeza que deseja proceder?")],-1))]),_:1},8,["visible"])],64)}}};export{me as default};
