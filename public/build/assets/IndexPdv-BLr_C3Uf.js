import{s as V}from"./index-CDgfXS-q.js";import{s as q}from"./index-BJuVzp9L.js";import{s as z}from"./index-DR2RjSeB.js";import{s as I}from"./index-R6IXIZ-i.js";import{s as L}from"./index-CbJ_gzJK.js";import{u as N,r as i,w as E,b as U,c as n,d as e,a as o,e as c,F as h,a1 as A,o as r,n as w,t as k,f as H,R as Q,i as W}from"./app-CFr2Dm5b.js";import{d as G}from"./moment-CQ1ixRO1.js";import"./index-be3Wln0j.js";import"./index-x9M35Fxq.js";import"./index-CIoWWLqq.js";import"./index-Bu6OmzmS.js";import"./index-CYibgX87.js";import"./index-D0gYlNQc.js";const J={key:0,class:"flex flex-col md:flex-row gap-12 min-h-screen items-center justify-center"},K={class:"w-full"},O={class:"flex flex-col gap-4 text-center"},X={key:1},Y={class:"mb-2"},Z={class:"grid grid-cols-12 gap-8"},ee={class:"flex justify-between mb-4"},te={class:"text-surface-900 dark:text-surface-0 font-medium text-xl"},ae={class:"flex justify-between mb-4"},se={class:"text-primary font-medium"},ye={__name:"IndexPdv",setup(ie){const d=W(),u=N();i(null);const p=i(!0),m=i(!1);let v=i(null);const g=i(""),l=i(null),D=i(1);i(15);const C=i(0),f=i(!1),$=[{label:"Venda Rápida",items:[{label:"Inicar Venda Rápida",icon:"pi pi-fw pi-shopping-cart",command:()=>{d.push("/waiter/pdv/quicksell")}}]},{label:"Pedidos",items:[{label:"Mesas",icon:"pi pi-fw pi-folder-open",command:()=>{openFileDialog.value=!0}}]},{label:"Caixa",items:[{label:"Fecho de caixa",icon:"pi pi-fw pi-lock",command:()=>{openFileDialog.value=!0}},{label:"Relatório de caixa",icon:"pi pi-fw pi-check",command:()=>{openFileDialog.value=!0}}]}];function S(){d&&d.back()}const _=()=>{f.value=!1};function x(s){switch(s){case 1:return"red";case 2:return"red";case 3:return"warn";case 4:return"danger";case 5:return"info";case 6:return"info"}}function B(s){switch(s){case 1:return"success";case 2:return"danger";case 3:return"warn";case 4:return"danger";case 5:return"info";case 6:return"info"}}const y=async(s=1)=>{axios.get(`/api/pdv?page=${s}`,{params:{query:g.value}}).then(t=>{l.value=t.data,C.value=t.data.total,p.value=!1}).catch(t=>{p.value=!1,u.add({severity:"error",summary:`${t}`,detail:"Message Detail",life:3e3}),S()})},j=()=>{m.value=!0,axios.delete(`/api/tables/${v.value}`).then(()=>{l.value.data=l.value.data.filter(s=>s.id!==v.value),_(),u.add({severity:"success",summary:"Sucesso",detail:"Sucesso ao apagar",life:3e3})}).catch(s=>{u.add({severity:"error",summary:"Erro",detail:`${s}`,life:3e3}),m.value=!1}).finally(()=>{m.value=!1})},F=G(()=>{y(D.value)},300);return E(g,F),U(()=>{y()}),(s,t)=>{const R=L,M=I,P=z,b=q,T=V;return r(),n(h,null,[p.value?(r(),n("div",J,[e("div",K,[e("div",O,[o(R,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:".5s","aria-label":"Custom ProgressSpinner"}),t[1]||(t[1]=e("p",null,"Por Favor Aguarde...",-1))])])])):(r(),n("div",X,[e("div",Y,[o(M,{model:$},{end:c(()=>t[2]||(t[2]=[e("p",null,"Total Venda Hoje: 0 MT",-1)])),_:1})]),e("div",Z,[(r(!0),n(h,null,A(l.value.data,(a,oe)=>(r(),n("div",{class:"col-span-12 lg:col-span-6 xl:col-span-3",key:a.id},[o(H(Q),{to:"/waiter/pdv/"+a.id+"/categories"},{default:c(()=>[e("div",{class:w(["card mb-0",{"bg-green-100":a.table_status_id===1,"bg-red-100":a.table_status_id===2}])},[e("div",ee,[e("div",null,[e("div",te,k(a.name),1)]),e("div",{class:w(["flex items-center justify-center rounded-full",`bg-${x(a.status_id)}-100`,`dark:bg-${x(a.status_id)}-400/10`]),style:{width:"2.5rem",height:"2.5rem"}},t[3]||(t[3]=[e("i",{class:"pi pi-list text-blue-500 !text-xl","aria-label":"Carrinho de Compras"},null,-1)]),2)]),e("div",ae,[e("span",se,"Capacidade: "+k(a.capacity),1),e("span",null,[o(P,{value:a.status.name,severity:B(a.table_status_id)},null,8,["value","severity"])])])],2)]),_:2},1032,["to"])]))),128))])])),o(T,{header:"Confirmação",visible:f.value,"onUpdate:visible":t[0]||(t[0]=a=>f.value=a),style:{width:"350px"},modal:!0},{footer:c(()=>[o(b,{label:"Não",icon:"pi pi-times",onClick:_,class:"p-button-text"}),o(b,{label:"Sim",icon:"pi pi-check",onClick:j,class:"p-button-text",autofocus:""})]),default:c(()=>[t[4]||(t[4]=e("div",{class:"flex align-items-center justify-content-center"},[e("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}}),e("span",null,"Tem certeza que deseja proceder?")],-1))]),_:1},8,["visible"])],64)}}};export{ye as default};
